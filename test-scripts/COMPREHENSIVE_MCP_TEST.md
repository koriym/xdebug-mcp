# ğŸ¤– AIè‡ªå¾‹ãƒ†ã‚¹ãƒˆï¼šå…¨47æ©Ÿèƒ½ã®åŒ…æ‹¬çš„æ¤œè¨¼

## ã‚¿ã‚¹ã‚¯
XdebugMCPã‚µãƒ¼ãƒãƒ¼ã®å…¨æ©Ÿèƒ½ï¼ˆ42 MCP tools + 5 CLI tools = 47æ©Ÿèƒ½ï¼‰ã‚’è‡ªå¾‹çš„ã«ãƒ†ã‚¹ãƒˆã—ã€å„æ©Ÿèƒ½ã®å‹•ä½œçŠ¶æ³ã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€‚

## é‡è¦ãªæŒ‡ç¤º
- **è‡ªåˆ†ã§å…¨ã¦ã®æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**ã—ã¦ãã ã•ã„
- **å®Ÿéš›ã®å‹•ä½œçµæœã«åŸºã¥ã„ã¦åˆ¤å®š**ã—ã¦ãã ã•ã„  
- **æ¨æ¸¬ã‚„ä»®å®šã§ã®åˆ¤å®šã¯ç¦æ­¢**ã§ã™
- å„æ©Ÿèƒ½ã«ã¤ã„ã¦ã€Œâœ…æˆåŠŸã€ã€ŒâŒå¤±æ•—ã€ã€Œâš ï¸éƒ¨åˆ†æˆåŠŸã€ã€ŒğŸš«æœªå®Ÿè£…ã€ã§å ±å‘Šã—ã¦ãã ã•ã„

## ãƒ†ã‚¹ãƒˆå¯¾è±¡æ©Ÿèƒ½ãƒªã‚¹ãƒˆ

### ğŸ“Š Profiling & Performance (4 tools)
1. **xdebug_start_profiling** - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°é–‹å§‹
2. **xdebug_stop_profiling** - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°åœæ­¢  
3. **xdebug_get_profile_info** - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±å–å¾—
4. **xdebug_analyze_profile** - Cachegrindãƒ•ã‚¡ã‚¤ãƒ«è§£æ

### ğŸ“ˆ Code Coverage (6 tools)  
5. **xdebug_start_coverage** - ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬é–‹å§‹
6. **xdebug_stop_coverage** - ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬åœæ­¢
7. **xdebug_get_coverage** - ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿å–å¾—
8. **xdebug_analyze_coverage** - ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
9. **xdebug_coverage_summary** - ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚µãƒãƒªãƒ¼
10. **xdebug_get_coverage_info** - ã‚«ãƒãƒ¬ãƒƒã‚¸è¨­å®šæƒ…å ±

### ğŸ› Interactive Debugging (11 tools)
11. **xdebug_connect** - ãƒ‡ãƒãƒƒã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¥ç¶š
12. **xdebug_disconnect** - ãƒ‡ãƒãƒƒã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³åˆ‡æ–­
13. **xdebug_set_breakpoint** - ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­ç½®
14. **xdebug_remove_breakpoint** - ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤
15. **xdebug_step_into** - ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³å®Ÿè¡Œ
16. **xdebug_step_over** - ã‚¹ãƒ†ãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼å®Ÿè¡Œ  
17. **xdebug_step_out** - ã‚¹ãƒ†ãƒƒãƒ—ã‚¢ã‚¦ãƒˆå®Ÿè¡Œ
18. **xdebug_continue** - ç¶™ç¶šå®Ÿè¡Œ
19. **xdebug_get_stack** - ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹å–å¾—
20. **xdebug_get_variables** - å¤‰æ•°å€¤å–å¾—
21. **xdebug_eval** - å¼è©•ä¾¡

### ğŸ” Trace Analysis (4 tools)
22. **xdebug_start_trace** - ãƒˆãƒ¬ãƒ¼ã‚¹é–‹å§‹
23. **xdebug_stop_trace** - ãƒˆãƒ¬ãƒ¼ã‚¹åœæ­¢
24. **xdebug_get_trace_info** - ãƒˆãƒ¬ãƒ¼ã‚¹è¨­å®šæƒ…å ±
25. **xdebug_analyze_trace** - ãƒˆãƒ¬ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«è§£æ

### âš™ï¸ Configuration & Diagnostics (17 tools)
26. **xdebug_get_status** - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹å–å¾—
27. **xdebug_get_error_info** - ã‚¨ãƒ©ãƒ¼æƒ…å ±å–å¾—
28. **xdebug_get_memory_usage** - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å–å¾—
29. **xdebug_get_execution_time** - å®Ÿè¡Œæ™‚é–“å–å¾—
30. **xdebug_get_stack_depth** - ã‚¹ã‚¿ãƒƒã‚¯æ·±åº¦å–å¾—
31. **xdebug_list_breakpoints** - ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆä¸€è¦§
32. **xdebug_set_exception_breakpoint** - ä¾‹å¤–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
33. **xdebug_set_watch_breakpoint** - ã‚¦ã‚©ãƒƒãƒãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ
34. **xdebug_get_features** - æ©Ÿèƒ½ä¸€è¦§å–å¾—
35. **xdebug_set_feature** - æ©Ÿèƒ½è¨­å®š
36. **xdebug_get_feature** - æ©Ÿèƒ½è¨­å®šå–å¾—
37. **xdebug_collect_errors** - ã‚¨ãƒ©ãƒ¼åé›†
38. **xdebug_get_collected_errors** - åé›†ã‚¨ãƒ©ãƒ¼å–å¾—
39. **xdebug_clear_collected_errors** - ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ãƒˆã‚¯ãƒªã‚¢
40. **xdebug_get_function_trace** - é–¢æ•°ãƒˆãƒ¬ãƒ¼ã‚¹å–å¾—
41. **xdebug_call_info** - å‘¼ã³å‡ºã—æƒ…å ±å–å¾—
42. **xdebug_print_function_stack** - é–¢æ•°ã‚¹ã‚¿ãƒƒã‚¯å‡ºåŠ›

### ğŸ› ï¸ CLI Tools (5 tools)
43. **./bin/xdebug-debug** - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒãƒƒã‚°
44. **./bin/xdebug-profile** - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°å®Ÿè¡Œ
45. **./bin/xdebug-coverage** - ã‚«ãƒãƒ¬ãƒƒã‚¸è§£æ
46. **./bin/xdebug-trace** - ãƒˆãƒ¬ãƒ¼ã‚¹å®Ÿè¡Œ
47. **./bin/xdebug-phpunit** - PHPUnitçµ±åˆ

## ãƒ†ã‚¹ãƒˆæ‰‹é †

### Phase 1: åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ

**âš ï¸ é‡è¦ãªåˆ¶é™äº‹é …**
- **JSON-RPCã‚³ãƒãƒ³ãƒ‰ç›´æ¥å®Ÿè¡Œã¯ç¦æ­¢**ã§ã™ï¼ˆä¾‹: `echo '{"jsonrpc":...}' | php bin/xdebug-mcp`ï¼‰
- ã“ã‚Œã¯ã€Œã‚³ãƒãƒ³ãƒ‰é€ä¿¡æˆåŠŸã€ã§ã‚ã£ã¦ã€Œæ©Ÿèƒ½å‹•ä½œæˆåŠŸã€ã§ã¯ã‚ã‚Šã¾ã›ã‚“
- **MCPãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã®ã¿**ã€MCPãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„
- MCPãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨ã§ããªã„å ´åˆã¯ã€ä»£æ›¿æ–¹æ³•ï¼ˆCLIãƒ„ãƒ¼ãƒ«ï¼‰ã§ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„

**æ­£ã—ã„ãƒ†ã‚¹ãƒˆæ–¹æ³•:**
```bash
# 1. MCPãƒ„ãƒ¼ãƒ«ãŒåˆ©ç”¨å¯èƒ½ã‹ãƒã‚§ãƒƒã‚¯
# ã‚‚ã—MCPãƒ„ãƒ¼ãƒ«ãŒä½¿ãˆã‚‹ç’°å¢ƒãªã‚‰ï¼š
mcp__xdebug__xdebug_start_profiling

# 2. MCPãŒä½¿ãˆãªã„å ´åˆã¯CLIãƒ„ãƒ¼ãƒ«ã§ãƒ†ã‚¹ãƒˆ
./bin/xdebug-profile test/debug_test.php

# 3. çµæœã®å®Ÿéš›ã®ç¢ºèªï¼ˆé‡è¦ï¼ï¼‰
ls -la /tmp/*profile*  # ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚ŒãŸã‹ç¢ºèª
```

### Phase 2: CLIãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ  
```bash
# 43-47: CLI toolsã‚’ç›´æ¥å®Ÿè¡Œ
./bin/xdebug-profile test/debug_test.php
./bin/xdebug-coverage test/debug_test.php  
./bin/xdebug-trace test/debug_test.php
# etc...
```

### Phase 3: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ

**ğŸš¨ é‡è¦: Interactive Debugging ãƒ†ã‚¹ãƒˆã®æ­£ã—ã„æ‰‹é †**

Interactive Debugging (11 tools) ã¯ç‰¹åˆ¥ãªæ¥ç¶šã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãŒå¿…è¦ã§ã™ï¼š

```bash
# âœ… æ­£ã—ã„æ‰‹é †ï¼ˆå¿…é ˆï¼ï¼‰
# Step 1: XdebugClient ã‚’å…ˆã«èµ·å‹•ï¼ˆMUST BE FIRST!ï¼‰
php test/debug_session_test.php &

# Step 2: ãƒãƒ¼ãƒˆãŒå¾…æ©Ÿä¸­ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
lsof -i :9004  # LISTENçŠ¶æ…‹ã‚’ç¢ºèª

# Step 3: ./bin/xdebug-debug ã‚’ä½¿ç”¨ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
./bin/xdebug-debug test-scripts/buggy_calculation_code.php
```

**æœŸå¾…ã•ã‚Œã‚‹æˆåŠŸã‚µã‚¤ãƒ³:**
- `âœ… Connected to debugging session!`
- `Breakpoint ID: XXXXXXX` (ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®šæˆåŠŸ)
- `ğŸ”§ Variables at breakpoint:` (å¤‰æ•°inspectæˆåŠŸ)
- `â–¶ï¸ Continuing to breakpoint...` (continueå®Ÿè¡ŒæˆåŠŸ)
- `ğŸ‘£ Step over the condition...` (stepå®Ÿè¡ŒæˆåŠŸ)

## å ±å‘Šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

å„æ©Ÿèƒ½ã«ã¤ã„ã¦ä»¥ä¸‹ã®å½¢å¼ã§å ±å‘Šï¼š

```
## ãƒ†ã‚¹ãƒˆçµæœãƒ¬ãƒãƒ¼ãƒˆ

### ğŸ“Š Profiling & Performance (4/4)
âœ… xdebug_start_profiling - æˆåŠŸ: ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« /tmp/cachegrind.out.12345 ç”Ÿæˆç¢ºèª
âŒ xdebug_stop_profiling - å¤±æ•—: connection timeout error, ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«æœªç”Ÿæˆ
âš ï¸ xdebug_get_profile_info - éƒ¨åˆ†æˆåŠŸ: è¨­å®šãƒ‡ãƒ¼ã‚¿å–å¾—ã§ãã‚‹ãŒå®Ÿéš›ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å®Ÿè¡Œã¯å¤±æ•—
ğŸš« xdebug_analyze_profile - æœªå®Ÿè£…: MCPãƒ„ãƒ¼ãƒ«è‡ªä½“ãŒå­˜åœ¨ã—ãªã„

**æ¤œè¨¼æ–¹æ³•:** å„æ©Ÿèƒ½ã«ã¤ã„ã¦å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€å‹•ä½œç¢ºèªã‚’å®Ÿæ–½

### ğŸ“ˆ Code Coverage (X/6)
...

### ğŸ› Interactive Debugging (X/11)  
...

### ğŸ” Trace Analysis (X/4)
...

### âš™ï¸ Configuration & Diagnostics (X/17)
...

### ğŸ› ï¸ CLI Tools (X/5)
...

## ç·åˆçµæœ
- âœ… æˆåŠŸ: XX/47 (XX%)
- âŒ å¤±æ•—: XX/47 (XX%) 
- âš ï¸ éƒ¨åˆ†æˆåŠŸ: XX/47 (XX%)
- ğŸš« æœªå®Ÿè£…: XX/47 (XX%)

## é‡è¦ãªç™ºè¦‹
- [å®Ÿéš›ã«ç™ºè¦‹ã—ãŸå•é¡Œç‚¹]
- [æ¨å¥¨ã•ã‚Œã‚‹æ”¹å–„ç‚¹]
- [å‹•ä½œç¢ºèªã•ã‚ŒãŸä¸»è¦æ©Ÿèƒ½]
```

## æˆåŠŸåŸºæº–
- **å®Œå…¨ãƒ†ã‚¹ãƒˆ**: 47æ©Ÿèƒ½ã™ã¹ã¦ã‚’å®Ÿéš›ã«å®Ÿè¡Œ
- **æ­£ç¢ºãªåˆ¤å®š**: æ¨æ¸¬ã§ãªãå®Ÿéš›ã®çµæœã«åŸºã¥ãè©•ä¾¡
- **è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ**: å„æ©Ÿèƒ½ã®å…·ä½“çš„ãªå‹•ä½œçµæœ
- **æ”¹å–„ææ¡ˆ**: ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œã®è§£æ±ºæ¡ˆ

## ğŸš¨ Interactive Debugging ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸæ™‚ã®å¯¾å‡¦æ³•

ã‚‚ã—Interactive Debugging (11 tools) ãƒ†ã‚¹ãƒˆã§ã€Œéƒ¨åˆ†æˆåŠŸã€ã‚„ã€Œå¤±æ•—ã€ã«ãªã£ãŸå ´åˆã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

### å•é¡Œè¨ºæ–­ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**âŒ ã‚ˆãã‚ã‚‹é–“é•ã„:**
```bash
# âŒ é–“é•ã„1: MCPãƒ„ãƒ¼ãƒ«ã‚’ç›´æ¥ãƒ†ã‚¹ãƒˆ
mcp__xdebug__xdebug_connect  # ã“ã‚Œã ã‘ã§ã¯ä¸ååˆ†

# âŒ é–“é•ã„2: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç›´æ¥å®Ÿè¡Œ
XDEBUG_TRIGGER=1 php -dxdebug.mode=debug test.php  # æ¥ç¶šå…ˆãŒãªã„

# âŒ é–“é•ã„3: é †åºãŒé€†
./bin/xdebug-debug test.php  # XdebugClient ãŒèµ·å‹•ã—ã¦ã„ãªã„
php test_new_xdebug_debug.php &
```

**âœ… æ­£ã—ã„è¨ºæ–­æ–¹æ³•:**
```bash
# 1. æ¥ç¶šç¢ºèª: XdebugClient ãŒå®Ÿéš›ã«èµ·å‹•ã—ã¦ã„ã‚‹ã‹ï¼Ÿ
php test/debug_session_test.php &
sleep 2
lsof -i :9004  # <- å¿…é ˆ: LISTEN ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼Ÿ

# 2. å®Ÿéš›ã®ãƒ‡ãƒãƒƒã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Ÿè¡Œ
./bin/xdebug-debug test-scripts/buggy_calculation_code.php

# 3. æˆåŠŸã‚µã‚¤ãƒ³ã‚’ç¢ºèª
# - "âœ… Connected to debugging session!" ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼Ÿ
# - "Breakpoint ID:" ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼Ÿ
# - å¤‰æ•°å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼Ÿ
```

### æˆåŠŸåŸºæº–ã®å†ç¢ºèª

**Interactive Debugging (11 tools) ãŒ âœ… æˆåŠŸ ã«ãªã‚‹æ¡ä»¶:**
1. **xdebug_connect**: "Xdebug connected! Connection established successfully" è¡¨ç¤º
2. **xdebug_set_breakpoint**: "Breakpoint ID: XXXXXXX" ã§ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆè¨­å®šæˆåŠŸ  
3. **xdebug_get_variables**: "$å¤‰æ•°å (å‹): å€¤" ã§å¤‰æ•°å€¤è¡¨ç¤ºæˆåŠŸ
4. **xdebug_continue**: "Continuing to breakpoint..." ã§ç¶™ç¶šå®Ÿè¡ŒæˆåŠŸ
5. **xdebug_step_over**: "Step over the condition..." ã§ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡ŒæˆåŠŸ
6. ãã®ä»–6ã¤ã®æ©Ÿèƒ½ã‚‚åŒæ§˜ã«å®Ÿéš›ã®å‹•ä½œç¢ºèª

**âš ï¸ é‡è¦**: 
- MCPãƒ„ãƒ¼ãƒ«åã®å­˜åœ¨ç¢ºèªã ã‘ã§ã¯ã€Œéƒ¨åˆ†æˆåŠŸã€ã§ã™
- å®Ÿéš›ã®ãƒ‡ãƒãƒƒã‚°ã‚»ãƒƒã‚·ãƒ§ãƒ³å‹•ä½œç¢ºèªã§ã€Œå®Œå…¨æˆåŠŸã€ã«ãªã‚Šã¾ã™
- æ¨æ¸¬ã‚„ä»®å®šã§ã®åˆ¤å®šã¯ç¦æ­¢ã§ã™

**é‡è¦**: ã“ã®ãƒ†ã‚¹ãƒˆã«ã‚ˆã‚Šã€XdebugMCPã‚µãƒ¼ãƒãƒ¼ã®**çœŸã®å®Ÿè£…å®Œæˆåº¦**ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚AIãŒå®Ÿéš›ã«47ã®æ©Ÿèƒ½ã‚’ä½¿ã„ã“ãªã›ã‚‹ã‹ã®æœ€çµ‚æ¤œè¨¼ã§ã™ã€‚

é ‘å¼µã£ã¦ãã ã•ã„ï¼ğŸš€