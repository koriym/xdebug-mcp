#!/usr/bin/env php
<?php

declare(strict_types=1);

// Load autoloader and get project root
$paths = require __DIR__ . '/autoload.php';
$projectRoot = $paths['project_root'];

// Note: Using absolute paths instead of chdir() for stability

// Run the command
use Koriym\XdebugMcp\XdebugPhpunitCommand;

$xdebugOutputDir = ini_get('xdebug.output_dir') ?: '/tmp';
$command = new XdebugPhpunitCommand($projectRoot, $xdebugOutputDir);
$exitCode = $command($argv);

exit($exitCode);